cmake_minimum_required(VERSION 2.6)
project(swig_java)
set(CPP_SOURCES "")
set(CPP_INCLUDE_DIRS "")
set(JAVA_SOURCES "")
set(SWIG_INTERFACE_FILES "")

add_subdirectory(swig_files)
add_subdirectory(cpp)
add_subdirectory(java)
message("CPP_SOURCES : '${CPP_SOURCES}'")
message("CPP_INCLUDE_DIRS : '${CPP_INCLUDE_DIRS}'")
message("JAVA_SOURCES : '${JAVA_SOURCES}'")
message("SWIG_INTERFACE_FILES : '${SWIG_INTERFACE_FILES}'")
FIND_PACKAGE(SWIG REQUIRED)
INCLUDE(${SWIG_USE_FILE}) 
FIND_PACKAGE(JNI REQUIRED) 
SET(CMAKE_SWIG_FLAGS "-c++")                                                                                                                 
SET(CMAKE_SWIG_OUTDIR "${PROJECT_SOURCE_DIR}/../gen_java_src")                                                                               

SWIG_ADD_MODULE(java_interop java ${SWIG_INTERFACE_FILES}) 
SWIG_LINK_LIBRARIES(java_interop ${JNI_LIBRARIES} cpp_lib)
add_library(cpp_lib ${CPP_SOURCES})

find_package(Java COMPONENTS "Development" REQUIRED)
find_package(JNI REQUIRED)
include("UseJava")

add_jar(java_jar ${JAVA_SOURCES})